(function(e){function t(t){for(var o,s,i=t[0],c=t[1],u=t[2],l=0,d=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&d.push(r[s][0]),r[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);m&&m(t);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={app:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var m=c;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"288d":function(e,t,n){"use strict";n("6383")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("div",[n("b-navbar",{attrs:{toggleable:"sm",type:"dark",variant:"info"}},[n("b-navbar-brand",{attrs:{to:"/"}},[e._v("WebShop")]),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),n("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-item",{attrs:{to:"/"}},[e._v("Home")]),n("b-nav-item-dropdown",{attrs:{text:"Kategorije"}},e._l(e.categories,(function(t){return n("b-dropdown-item",{key:t.id,attrs:{to:"/category/"+t.id+"/"+t.name}},[e._v(" "+e._s(t.name)+" ")])})),1)],1),n("b-navbar-nav",{staticClass:"ml-auto"},[e.token?e._e():n("b-nav-item",{attrs:{to:"/register"}},[e._v("Register")]),e.token?n("b-nav-item",{on:{click:function(t){return e.logout()}}},[e._v("Log Out")]):n("b-nav-item",{attrs:{to:"/login"}},[e._v("Log In")])],1)],1)],1)],1),n("router-view",{staticClass:"stranica"})],1)},a=[],s=n("5530"),i=n("2f62"),c={name:"App",computed:Object(s["a"])({},Object(i["d"])(["categories","token"])),mounted:function(){this.fetchCategories(),localStorage.token&&this.setToken(localStorage.token)},methods:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(i["b"])(["fetchCategories"])),Object(i["c"])(["removeToken","setToken"])),{},{logout:function(){this.removeToken()}}),sockets:{error:function(e){alert(e)}}},u=c,m=(n("034f"),n("2877")),l=Object(m["a"])(u,r,a,!1,null,null,null),d=l.exports,p=n("8c4f"),f=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("Header",{attrs:{subtitle:"Home"}}),o("img",{attrs:{src:n("b250"),width:"200",alt:"Logo"}}),o("hr"),o("Comments")],1)},b=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"naslov"},[n("h1",[e._v("The Right Place")]),e.subtitle?n("h3",[e._v(e._s(e.subtitle))]):e._e()])},v=[],g={name:"Header",props:{subtitle:String}},k=g,y=(n("8d88"),Object(m["a"])(k,h,v,!1,null,"5960e18e",null)),O=y.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("User Comments")]),e.token?n("div",[n("b-form-input",{attrs:{placeholder:"Say something..."},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit.apply(null,arguments)}},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}}),e._l(e.comments,(function(t){return n("b-card",{key:t.id,attrs:{title:t.user.name}},[n("b-card-text",[e._v(" User with id:"+e._s(t.userId)+" - "+e._s(t.body)+" ")])],1)}))],2):n("p",[e._v("You must be signed in to leave a comment")])])},_=[],w={name:"Comments",data:function(){return{comment:""}},computed:Object(s["a"])({},Object(i["d"])(["token","comments"])),methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["postComment"])),{},{onSubmit:function(){this.$socket.emit("comment",{body:this.comment,token:this.token}),this.comment=""}})},x=w,C=(n("288d"),Object(m["a"])(x,j,_,!1,null,"45db81d4",null)),S=C.exports,$={name:"Home",components:{Header:O,Comments:S},computed:Object(s["a"])({},Object(i["d"])(["comments"])),methods:Object(s["a"])({},Object(i["b"])(["fetchComments"])),mounted:function(){this.fetchComments()}},P=$,T=Object(m["a"])(P,f,b,!1,null,null,null),H=T.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{subtitle:"Welcome to category "+e.subtitle}}),n("ul",{attrs:{id:"example-1"}},e._l(e.products,(function(e){return n("li",{key:e.id},[n("Product",{attrs:{description:e.description,price:e.price,name:e.name}})],1)})),0)],1)},I=[],D=(n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{tag:"article"}},[n("b-card-text",[n("h3",[e._v("Product: "+e._s(e.name))])]),n("b-card-text",[e._v(" Nesto vise o proizvodu: "+e._s(e.description)+" ")]),n("b-card-text",[e._v(" Cena: "+e._s(e.price)+" ")]),n("b-button",{attrs:{href:"#",variant:"primary"},on:{click:function(t){return e.createOrder(e.price)}}},[e._v("Buy")])],1)],1)}),N=[],q={name:"Product",props:{description:String,price:String,name:String},methods:Object(s["a"])({},Object(i["b"])(["createOrder"]))},B=q,J=Object(m["a"])(B,D,N,!1,null,"536ac288",null),L=J.exports,R={name:"Category",components:{Header:O,Product:L},data:function(){return{subtitle:"",catID:null}},computed:Object(s["a"])({},Object(i["d"])(["products"])),watch:{$route:function(){this.subtitle=this.$route.params.name,this.catID=this.$route.params.id,this.fetchIDsByCategory(this.catID)}},methods:Object(s["a"])({},Object(i["b"])(["fetchIDsByCategory"])),mounted:function(){this.subtitle=this.$route.params.name,this.catID=this.$route.params.id,this.fetchIDsByCategory(this.catID)}},M=R,U=Object(m["a"])(M,E,I,!1,null,"5c1d42a2",null),z=U.exports,A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{subtitle:"Create account"}}),n("b-form",{on:{submit:e.onSubmit}},[n("b-form-group",{attrs:{label:"Email address:","label-for":"email"}},[n("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Enter email",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("b-form-group",{attrs:{label:"User Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",placeholder:"Enter name",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("b-form-group",{attrs:{label:"Password:","label-for":"password"}},[n("b-form-input",{attrs:{id:"password",type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("b-form-checkbox",{attrs:{id:"admin",value:!0,"unchecked-value":!1},model:{value:e.form.admin,callback:function(t){e.$set(e.form,"admin",t)},expression:"form.admin"}},[e._v("Admin")]),n("br"),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)},W=[],K={name:"Register",components:{Header:O},data:function(){return{form:{email:"",name:"",password:"",role:0}}},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["register"])),{},{onSubmit:function(e){e.preventDefault(),this.register(this.form),this.$router.push({name:"Home"})}})},Y=K,F=Object(m["a"])(Y,A,W,!1,null,"91666802",null),G=F.exports,Q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Header",{attrs:{subtitle:"Log In"}}),n("b-form",{on:{submit:e.onSubmit}},[n("b-form-group",{attrs:{label:"User Name:","label-for":"name"}},[n("b-form-input",{attrs:{id:"name",placeholder:"Enter name",required:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("b-form-group",{attrs:{label:"Password:","label-for":"password"}},[n("b-form-input",{attrs:{id:"password",type:"password",required:""},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("b-form-group",{attrs:{label:"Email:","label-for":"email"}},[n("b-form-input",{attrs:{id:"email",type:"email",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)},V=[],X={name:"Login",components:{Header:O},data:function(){return{form:{name:"",password:"",email:""}}},methods:Object(s["a"])(Object(s["a"])({},Object(i["b"])(["login"])),{},{onSubmit:function(e){e.preventDefault(),this.login(this.form),this.$router.push({name:"Home"})}})},Z=X,ee=Object(m["a"])(Z,Q,V,!1,null,"7bc5adbc",null),te=ee.exports;o["default"].use(p["a"]);var ne=[{path:"/",name:"Home",component:H},{path:"/category/:id/:name",name:"Category",component:z},{path:"/register",name:"Register",component:G},{path:"/login",name:"Login",component:te}],oe=new p["a"]({mode:"history",base:"/",routes:ne}),re=oe,ae=n("5f5b"),se=n("b1e0"),ie=n("5132"),ce=n.n(ie),ue=(n("f9e3"),n("2dd8"),n("1da1"));n("96cf"),n("d3b7"),n("e9c4"),n("4de4");o["default"].use(i["a"]);var me=new i["a"].Store({state:{categories:[],products:[],token:"",comments:[]},mutations:{setCategories:function(e,t){e.categories=t},setComments:function(e,t){e.comments=t},setProducts:function(e,t){e.products=t},setToken:function(e,t){e.token=t,localStorage.token=t},removeToken:function(e){e.token="",localStorage.token=""},addComment:function(e,t){e.comments.push(t)}},actions:{fetchCategories:function(e){var t=e.commit;fetch("https://web-shop-rest-service.herokuapp.com/categories").then((function(e){return e.json()})).then((function(e){t("setCategories",e)}))},fetchComments:function(e){var t=e.commit;fetch("https://web-shop-rest-service.herokuapp.com/comments").then((function(e){return e.json()})).then((function(e){t("setComments",e)}))},createOrder:function(e,t){e.commit;if(""!=localStorage.token){var n={price:t};fetch("https://web-shop-rest-service.herokuapp.com/admin/create/order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){alert("Cestitamo!!! Uspesno napravljena porudzbina")}))}else alert("Morate biti ulogovani da bi ste mogli da kupujete")},fetchIDsByCategory:function(e,t){return Object(ue["a"])(regeneratorRuntime.mark((function n(){var o,r,a,s,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.commit,r=e.state,a=r.categories.filter((function(e){return e.id===t}))[0],!a||!a["products"]){n.next=6;break}o("setProducts",a["products"]),n.next=13;break;case 6:return n.next=8,fetch("https://web-shop-rest-service.herokuapp.com/products/category/".concat(t));case 8:return s=n.sent,n.next=11,s.json();case 11:i=n.sent,o("setProducts",i);case 13:case"end":return n.stop()}}),n)})))()},register:function(e,t){var n=e.commit;fetch("https://web-shop-rest-service.herokuapp.com/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){return n("setToken",e.token)}))},login:function(e,t){var n=e.commit;fetch("https://web-shop-auth-servis.herokuapp.com/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){e.msg?alert(e.msg):n("setToken",e.token)})).catch((function(e){return console.log(e)}))},socket_comment:function(e,t){var n=e.commit,o=JSON.parse(t);n("addComment",o)}}});o["default"].use(ae["a"]),o["default"].use(se["a"]),o["default"].use(new ce.a({debug:!1,connection:"https://web-shop-admin-gui.herokuapp.com",vuex:{store:me,actionPrefix:"socket_"}})),o["default"].config.productionTip=!1,new o["default"]({router:re,store:me,render:function(e){return e(d)}}).$mount("#app")},"5fec":function(e,t,n){},6383:function(e,t,n){},"85ec":function(e,t,n){},"8d88":function(e,t,n){"use strict";n("5fec")},b250:function(e,t,n){e.exports=n.p+"img/onlineshop.ddc04dd7.png"}});
//# sourceMappingURL=app.60c872b7.js.map